<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 9 Data Wrangling | STAT462 Lab Book 2024</title>
<meta name="author" content="Dr Helen Greatrex">
<meta name="description" content="9.1 Example datasets Here I will show a few examples for the houses dataset we were using in lectures. I will also use a separate dataset on spring frost dates.   9.2 Looking at the data itself To...">
<meta name="generator" content="bookdown 0.37 with bs4_book()">
<meta property="og:title" content="Chapter 9 Data Wrangling | STAT462 Lab Book 2024">
<meta property="og:type" content="book">
<meta property="og:description" content="9.1 Example datasets Here I will show a few examples for the houses dataset we were using in lectures. I will also use a separate dataset on spring frost dates.   9.2 Looking at the data itself To...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 9 Data Wrangling | STAT462 Lab Book 2024">
<meta name="twitter:description" content="9.1 Example datasets Here I will show a few examples for the houses dataset we were using in lectures. I will also use a separate dataset on spring frost dates.   9.2 Looking at the data itself To...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.6.1/transition.js"></script><script src="libs/bs3compat-0.6.1/tabs.js"></script><script src="libs/bs3compat-0.6.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.3/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">STAT462 Lab Book 2024</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome to STAT-462!</a></li>
<li><a class="" href="FAQ.html">Course FAQ</a></li>
<li><a class="" href="WhatIsR.html">What are R and R-Studio?</a></li>
<li><a class="" href="Setup_Desktop.html">Installing R/R-Studio</a></li>
<li><a class="" href="Setup_UpdateDesktop.html">Updating R/R-Studio</a></li>
<li><a class="" href="Setup_Online.html">Posit Cloud Online</a></li>
<li class="book-part">.</li>
<li class="book-part">LAB INSTRUCTIONS</li>
<li><a class="" href="Help.html">HELP!</a></li>
<li><a class="" href="Lab_1.html">Lab 1</a></li>
<li><a class="" href="Lab_2.html">Lab 2</a></li>
<li><a class="" href="Lab_3.html">Lab 3</a></li>
<li><a class="" href="Lab_4.html">Lab 4</a></li>
<li><a class="" href="Lab_5.html">Lab 5A</a></li>
<li><a class="" href="Lab_5B.html">Lab 5B</a></li>
<li class="book-part">.</li>
<li class="book-part">TUTORIALS</li>
<li><a class="" href="T1_Projects.html"><span class="header-section-number">1</span> Projects/Starting a lab</a></li>
<li><a class="" href="T2_Libraries.html"><span class="header-section-number">2</span> Libraries/Packages</a></li>
<li><a class="" href="T3_Markdown.html"><span class="header-section-number">3</span> R-Markdown</a></li>
<li><a class="" href="T4_ReadingData.html"><span class="header-section-number">4</span> Reading in data</a></li>
<li><a class="" href="probability-distributions.html"><span class="header-section-number">5</span> Probability distributions</a></li>
<li><a class="" href="T6_plots.html"><span class="header-section-number">6</span> Plots</a></li>
<li><a class="" href="correlation.html"><span class="header-section-number">7</span> Correlation</a></li>
<li><a class="" href="T8_regression.html"><span class="header-section-number">8</span> Regression</a></li>
<li><a class="active" href="T9_wrangling.html"><span class="header-section-number">9</span> Data Wrangling</a></li>
<li><a class="" href="T10_diagnostics.html"><span class="header-section-number">10</span> Assessing LINE</a></li>
<li><a class="" href="outliers-high-leverage-influential-points.html"><span class="header-section-number">11</span> Outliers, high leverage &amp; influential points</a></li>
<li><a class="" href="confidence-and-prediction-intervals.html"><span class="header-section-number">12</span> Confidence and Prediction Intervals</a></li>
<li><a class="" href="S.Tutorial_Transformations.html"><span class="header-section-number">13</span> Transformations</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="T9_wrangling" class="section level1" number="9">
<h1>
<span class="header-section-number">9</span> Data Wrangling<a class="anchor" aria-label="anchor" href="#T9_wrangling"><i class="fas fa-link"></i></a>
</h1>
<div id="example-datasets" class="section level2" number="9.1">
<h2>
<span class="header-section-number">9.1</span> Example datasets<a class="anchor" aria-label="anchor" href="#example-datasets"><i class="fas fa-link"></i></a>
</h2>
<p>Here I will show a few examples for the houses dataset we were using in lectures. I will also use a separate dataset on spring frost dates.</p>
<p><br><br></p>
</div>
<div id="T9_basics" class="section level2" number="9.2">
<h2>
<span class="header-section-number">9.2</span> Looking at the data itself<a class="anchor" aria-label="anchor" href="#T9_basics"><i class="fas fa-link"></i></a>
</h2>
<p>To have a look at the data there are many options. You can:</p>
<ul>
<li>
<p>Click on its NAME in the environment tab (not the blue arrow)</p>
<p><br></p>
</li>
<li>
<p>Type its name into the console or into a code chunk</p>
<ul>
<li>
<p>(e.g.Â I would type, type <code>HousesNY</code> into the console or a code chunk)</p>
<p><br></p>
</li>
</ul>
</li>
<li>
<p>Run the command <code>View(tablename)</code> IN THE CONSOLE</p>
<ul>
<li><p>(View is a command from the tidyverse package).<br></p></li>
<li>
<p>This will open the data in a new tab.</p>
<p><br></p>
</li>
</ul>
</li>
<li>
<p>Run the command <code>head(``tablename``)</code> to see the first 6 lines or so (good for quick checks)</p>
<p><br></p>
</li>
<li>
<p>Run the command <code>glimpse(``tablename``)</code> to get a nice summary.</p>
<p><br></p>
</li>
<li><p>Run the command <code>names(``tablename``)</code> to get the column names.</p></li>
</ul>
<div id="example" class="section level3" number="9.2.1">
<h3>
<span class="header-section-number">9.2.1</span> Example<a class="anchor" aria-label="anchor" href="#example"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb122"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Note, there are sometimes more columns to the right, use the arrow to see</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>##   Price Beds Baths  Size  Lot
## 1  57.6    3     2 0.960 1.30
## 2 120.0    6     2 2.786 0.23
## 3 150.0    4     2 1.704 0.27
## 4 143.0    3     2 1.200 0.80
## 5  92.5    3     1 1.329 0.42
## 6  50.0    2     1 0.974 0.34</code></pre>
<p>To see what the column names are, you can use the <code>names(dataset)</code> command</p>
<div class="sourceCode" id="cb124"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "Price" "Beds"  "Baths" "Size"  "Lot"</code></pre>
<p>Or the glimpse command:</p>
<div class="sourceCode" id="cb126"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>## Rows: 53
## Columns: 5
## $ Price &lt;dbl&gt; 57.6, 120.0, 150.0, 143.0, 92.5, 50.0, 89.0, 140.0, 197.5, 125.1â¦
## $ Beds  &lt;int&gt; 3, 6, 4, 3, 3, 2, 2, 4, 4, 3, 3, 3, 3, 4, 3, 3, 4, 3, 4, 3, 4, 4â¦
## $ Baths &lt;dbl&gt; 2.0, 2.0, 2.0, 2.0, 1.0, 1.0, 2.0, 3.0, 2.5, 2.0, 2.0, 1.0, 2.0,â¦
## $ Size  &lt;dbl&gt; 0.960, 2.786, 1.704, 1.200, 1.329, 0.974, 1.029, 2.818, 2.268, 1â¦
## $ Lot   &lt;dbl&gt; 1.30, 0.23, 0.27, 0.80, 0.42, 0.34, 0.29, 0.21, 1.00, 0.30, 1.30â¦</code></pre>
<p>To see how many columns and rows there are, you can use the <code><a href="https://rdrr.io/r/base/nrow.html">nrow()</a></code> and <code><a href="https://rdrr.io/r/base/nrow.html">ncol()</a></code> commands</p>
<div class="sourceCode" id="cb128"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 53</code></pre>
<div class="sourceCode" id="cb130"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<hr>
<p><br><br></p>
</div>
</div>
<div id="summary-statistics" class="section level2" number="9.3">
<h2>
<span class="header-section-number">9.3</span> Summary statistics<a class="anchor" aria-label="anchor" href="#summary-statistics"><i class="fas fa-link"></i></a>
</h2>
<p>To look at the summaries there are a load of options. Choose your favourites:</p>
<ul>
<li><code>summary(dataset)</code></li>
<li>
<code>skim(dataset)</code> in the skimr package</li>
<li>
<code>summarize(dataset)</code> in the papeR package. This looks pretty powerful, Iâm just learning it</li>
</ul>
<p>None are better or worse than others - simply choose what works for you in the moment.</p>
<div class="sourceCode" id="cb132"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>##      Price            Beds           Baths            Size      
##  Min.   : 38.5   Min.   :2.000   Min.   :1.000   Min.   :0.712  
##  1st Qu.: 82.7   1st Qu.:3.000   1st Qu.:1.500   1st Qu.:1.296  
##  Median :107.0   Median :3.000   Median :2.000   Median :1.528  
##  Mean   :113.6   Mean   :3.396   Mean   :1.858   Mean   :1.678  
##  3rd Qu.:141.0   3rd Qu.:4.000   3rd Qu.:2.000   3rd Qu.:2.060  
##  Max.   :197.5   Max.   :6.000   Max.   :3.500   Max.   :3.100  
##       Lot        
##  Min.   :0.0000  
##  1st Qu.:0.2700  
##  Median :0.4200  
##  Mean   :0.7985  
##  3rd Qu.:1.1000  
##  Max.   :3.5000</code></pre>
<div class="sourceCode" id="cb134"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/skimr/">skimr</a></span><span class="op">)</span> <span class="co"># you would need to install this</span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/skimr/reference/skim.html">skim</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:unnamed-chunk-7">Table 9.1: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">HousesNY</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">53</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">5</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">numeric</td>
<td align="left">5</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table></div>
<p><strong>Variable type: numeric</strong></p>
<div class="inline-table"><table style="width:100%;" class="table table-sm">
<colgroup>
<col width="15%">
<col width="11%">
<col width="15%">
<col width="7%">
<col width="6%">
<col width="6%">
<col width="6%">
<col width="7%">
<col width="7%">
<col width="6%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Price</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">113.63</td>
<td align="right">41.43</td>
<td align="right">38.50</td>
<td align="right">82.70</td>
<td align="right">107.00</td>
<td align="right">141.00</td>
<td align="right">197.5</td>
<td align="left">âââââ</td>
</tr>
<tr class="even">
<td align="left">Beds</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.40</td>
<td align="right">0.79</td>
<td align="right">2.00</td>
<td align="right">3.00</td>
<td align="right">3.00</td>
<td align="right">4.00</td>
<td align="right">6.0</td>
<td align="left">âââââ</td>
</tr>
<tr class="odd">
<td align="left">Baths</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.86</td>
<td align="right">0.65</td>
<td align="right">1.00</td>
<td align="right">1.50</td>
<td align="right">2.00</td>
<td align="right">2.00</td>
<td align="right">3.5</td>
<td align="left">âââââ</td>
</tr>
<tr class="even">
<td align="left">Size</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1.68</td>
<td align="right">0.60</td>
<td align="right">0.71</td>
<td align="right">1.30</td>
<td align="right">1.53</td>
<td align="right">2.06</td>
<td align="right">3.1</td>
<td align="left">âââââ</td>
</tr>
<tr class="odd">
<td align="left">Lot</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.80</td>
<td align="right">0.76</td>
<td align="right">0.00</td>
<td align="right">0.27</td>
<td align="right">0.42</td>
<td align="right">1.10</td>
<td align="right">3.5</td>
<td align="left">âââââ</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://pillar.r-lib.org/">pillar</a></span><span class="op">)</span> <span class="co"># you would need to install this</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>## Rows: 53
## Columns: 5
## $ Price &lt;dbl&gt; 57.6, 120.0, 150.0, 143.0, 92.5, 50.0, 89.0, 140.0, 197.5, 125.1â¦
## $ Beds  &lt;int&gt; 3, 6, 4, 3, 3, 2, 2, 4, 4, 3, 3, 3, 3, 4, 3, 3, 4, 3, 4, 3, 4, 4â¦
## $ Baths &lt;dbl&gt; 2.0, 2.0, 2.0, 2.0, 1.0, 1.0, 2.0, 3.0, 2.5, 2.0, 2.0, 1.0, 2.0,â¦
## $ Size  &lt;dbl&gt; 0.960, 2.786, 1.704, 1.200, 1.329, 0.974, 1.029, 2.818, 2.268, 1â¦
## $ Lot   &lt;dbl&gt; 1.30, 0.23, 0.27, 0.80, 0.42, 0.34, 0.29, 0.21, 1.00, 0.30, 1.30â¦</code></pre>
<p>or</p>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>## 'data.frame':    53 obs. of  5 variables:
##  $ Price: num  57.6 120 150 143 92.5 ...
##  $ Beds : int  3 6 4 3 3 2 2 4 4 3 ...
##  $ Baths: num  2 2 2 2 1 1 2 3 2.5 2 ...
##  $ Size : num  0.96 2.79 1.7 1.2 1.33 ...
##  $ Lot  : num  1.3 0.23 0.27 0.8 0.42 0.34 0.29 0.21 1 0.3 ...</code></pre>
<p>To see what the column names are, you can use the names(dataset) command</p>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "Price" "Beds"  "Baths" "Size"  "Lot"</code></pre>
<p>To print the first few rows</p>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>##   Price Beds Baths  Size  Lot
## 1  57.6    3     2 0.960 1.30
## 2 120.0    6     2 2.786 0.23
## 3 150.0    4     2 1.704 0.27
## 4 143.0    3     2 1.200 0.80
## 5  92.5    3     1 1.329 0.42
## 6  50.0    2     1 0.974 0.34</code></pre>
<p>To find the number of rows and columns</p>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 53</code></pre>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#or both dimensions</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 53  5</code></pre>
<p>Or you can do things manually, using the $ symbol to choose a column. All of this is for the price column</p>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Price</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 113.6321</code></pre>
<div class="sourceCode" id="cb151"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Price</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 107</code></pre>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Price</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "numeric"</code></pre>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Price</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 41.43006</code></pre>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">var</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Price</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1716.45</code></pre>
<div class="sourceCode" id="cb159"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/IQR.html">IQR</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Price</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 58.3</code></pre>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Price</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  38.5 197.5</code></pre>
<hr>
<p><br><br></p>
</div>
<div id="Missing" class="section level2" number="9.4">
<h2>
<span class="header-section-number">9.4</span> Removing missing values<a class="anchor" aria-label="anchor" href="#Missing"><i class="fas fa-link"></i></a>
</h2>
<div id="na.omit" class="section level3" number="9.4.1">
<h3>
<span class="header-section-number">9.4.1</span> na.omit<a class="anchor" aria-label="anchor" href="#na.omit"><i class="fas fa-link"></i></a>
</h3>
<p>The na.omit command will remove any row with ANY missing value.</p>
<p>Note Iâm overwriting my variable HousesNY with the new one. Itâs up to you if you want to do this or make a new variable</p>
<div class="sourceCode" id="cb163"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HousesNY</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">)</span></span></code></pre></div>
<p><br><br></p>
</div>
<div id="missing-values-in-single-columns-complete.cases" class="section level3" number="9.4.2">
<h3>
<span class="header-section-number">9.4.2</span> Missing values in single columns, complete.cases<a class="anchor" aria-label="anchor" href="#missing-values-in-single-columns-complete.cases"><i class="fas fa-link"></i></a>
</h3>
<p>If you want to only remove rows with missing values in a single column, we can use the complete cases command</p>
<div class="sourceCode" id="cb164"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HousesNY</span> <span class="op">&lt;-</span> <span class="va">HousesNY</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Price</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<p>E.g. take the HousesNY table and ONLY include values where the price data is not missing. Note, this can be any column name at all.</p>
<p><br><br></p>
</div>
<div id="turning-values-into-na" class="section level3" number="9.4.3">
<h3>
<span class="header-section-number">9.4.3</span> Turning values into NA<a class="anchor" aria-label="anchor" href="#turning-values-into-na"><i class="fas fa-link"></i></a>
</h3>
<p>Sometimes, you have -999 or something as your missing mark. R expects them to be NA.</p>
<p>You can apply a RULE using the filter command below or like this to make them actually NAs</p>
<div class="sourceCode" id="cb165"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Price</span><span class="op">[</span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Price</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">]</span>   <span class="op">&lt;-</span> <span class="cn">NA</span></span></code></pre></div>
<p>E.g. here I select all the prices that are less than 0 (e.g impossible) and set them to NA.</p>
<p><br></p>
</div>
</div>
<div id="ignoring-missing-data-in-commands" class="section level2" number="9.5">
<h2>
<span class="header-section-number">9.5</span> Ignoring missing data in commands<a class="anchor" aria-label="anchor" href="#ignoring-missing-data-in-commands"><i class="fas fa-link"></i></a>
</h2>
<p>There are missing values in some datasets - and by default, R will set the answer to statistics to also be missing.</p>
<div class="sourceCode" id="cb166"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create some test data</span></span>
<span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>A<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>,</span>
<span>                   B<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>,<span class="fl">3</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span></span></code></pre></div>
<pre><code>##   A  B
## 1 1 NA
## 2 3  3
## 3 4  1</code></pre>
<div class="sourceCode" id="cb168"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Take the mean of column B</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">test</span><span class="op">$</span><span class="va">B</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb170"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Take the correlation between A and B</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">test</span><span class="op">$</span><span class="va">A</span>,<span class="va">test</span><span class="op">$</span><span class="va">B</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>To ignore them in a given command, try adding ,na.rm=TRUE to the command e.g.</p>
<div class="sourceCode" id="cb172"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">test</span><span class="op">$</span><span class="va">B</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>or sometimes I look in the help file (or on google) for a slightly different terminology.</p>
<div class="sourceCode" id="cb174"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#the cor command doesn't follow the pattern.</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">test</span><span class="op">$</span><span class="va">A</span>,<span class="va">test</span><span class="op">$</span><span class="va">B</span>,use <span class="op">=</span> <span class="st">"complete.obs"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] -1</code></pre>
</div>
<div id="making-frequency-tables" class="section level2" number="9.6">
<h2>
<span class="header-section-number">9.6</span> Making frequency tables<a class="anchor" aria-label="anchor" href="#making-frequency-tables"><i class="fas fa-link"></i></a>
</h2>
<p>Sometimes we want to see how many rows there are in different categories. The easiest way to do this is using the table command. For example, in our New York data, we can see how many houses there are with each number of beds using</p>
<div class="sourceCode" id="cb176"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Beds</span><span class="op">)</span></span></code></pre></div>
<pre><code>## 
##  2  3  4  5  6 
##  5 26 19  2  1</code></pre>
<p>So there are 19 rows in our dataset where the Beds column says 4 (AKA 19 houses in our sample with 4 beds). Or we can look at a 2 dimensional table</p>
<div class="sourceCode" id="cb178"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Beds</span>, <span class="va">HousesNY</span><span class="op">$</span><span class="va">Baths</span><span class="op">)</span></span></code></pre></div>
<pre><code>##    
##      1 1.5  2 2.5  3 3.5
##   2  2   0  3   0  0   0
##   3  8   3 14   0  1   0
##   4  3   1 10   1  3   1
##   5  0   0  1   0  0   1
##   6  0   0  1   0  0   0</code></pre>
<p>So there are 10 houses with 4 beds and 2 baths</p>
<p>To make these look more professional there are a number of packages you can install and use. For example, ztable will take the output of table and format it in a pretty way. This will look TERRIBLE when you run R as itâs making html code. But when you press knit it will look beautiful</p>
<div class="sourceCode" id="cb180"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># don't include the install line in your code, run it in the console</span></span>
<span><span class="co"># install.package("ztable")</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/cardiomoon/ztable">ztable</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org">magrittr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>ztable.type<span class="op">=</span><span class="st">"html"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mytable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">HousesNY</span><span class="op">$</span><span class="va">Beds</span>, <span class="va">HousesNY</span><span class="op">$</span><span class="va">Baths</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_ztable</span> <span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/ztable/man/ztable.html">ztable</a></span><span class="op">(</span><span class="va">mytable</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">my_ztable</span>,caption<span class="op">=</span><span class="st">"Table 1. Basic Table"</span><span class="op">)</span></span></code></pre></div>

<style>
        table {
              font-family: times ;
color:  black ;
text-align: right;}
        th {
              padding: 1px 1px 5px 5px;
            }
        td {
             padding: 1px 1px 5px 5px; }
      </style>
<div class="inline-table"><table align="center" style="border-collapse: collapse; caption-side:top; font-size:11pt;" class="table table-sm">
<caption style="text-align:center;">
Table 1. Basic Table
</caption>
<tr>
<th style="border-left: 0px solid black;background-color: #FFFFFF;border-top: 2px solid gray;border-bottom: 1px solid gray;">
Â 
</th>
<th align="center" style="font-weight: normal;border-left: 0px solid black;border-bottom: 1px solid gray;border-top: 2px solid gray;">1</th>
<th align="center" style="font-weight: normal;border-left: 0px solid black;border-bottom: 1px solid gray;border-top: 2px solid gray;">1.5</th>
<th align="center" style="font-weight: normal;border-left: 0px solid black;border-bottom: 1px solid gray;border-top: 2px solid gray;">2</th>
<th align="center" style="font-weight: normal;border-left: 0px solid black;border-bottom: 1px solid gray;border-top: 2px solid gray;">2.5</th>
<th align="center" style="font-weight: normal;border-left: 0px solid black;border-bottom: 1px solid gray;border-top: 2px solid gray;">3</th>
<th align="center" style="font-weight: normal;border-left: 0px solid black;border-right:0px solid black;border-bottom: 1px solid gray;border-top: 2px solid gray;">3.5</th>
</tr>
<tr>
<td style="border-left: 0px solid black; ">
2
</td>
<td align="right" style="border-left: 0px solid black;">
2
</td>
<td align="right" style="border-left: 0px solid black;">
0
</td>
<td align="right" style="border-left: 0px solid black;">
3
</td>
<td align="right" style="border-left: 0px solid black;">
0
</td>
<td align="right" style="border-left: 0px solid black;">
0
</td>
<td align="right" style="border-left: 0px solid black;border-right:0px solid black;">
0
</td>
</tr>
<tr>
<td style="border-left: 0px solid black; border-top: hidden;">
3
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
8
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
3
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
14
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
0
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
1
</td>
<td align="right" style="border-left: 0px solid black;border-right:0px solid black;border-top: hidden;">
0
</td>
</tr>
<tr>
<td style="border-left: 0px solid black; border-top: hidden;">
4
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
3
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
1
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
10
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
1
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
3
</td>
<td align="right" style="border-left: 0px solid black;border-right:0px solid black;border-top: hidden;">
1
</td>
</tr>
<tr>
<td style="border-left: 0px solid black; border-top: hidden;">
5
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
0
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
0
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
1
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
0
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
0
</td>
<td align="right" style="border-left: 0px solid black;border-right:0px solid black;border-top: hidden;">
1
</td>
</tr>
<tr>
<td style="border-left: 0px solid black; border-top: hidden;">
6
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
0
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
0
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
1
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
0
</td>
<td align="right" style="border-left: 0px solid black;border-top: hidden;">
0
</td>
<td align="right" style="border-left: 0px solid black;border-right:0px solid black;border-top: hidden;">
0
</td>
</tr>
<tr>
<td colspan="7" align="left" style="font-size:9pt ;border-top: 1px solid black; border-bottom: hidden;">
</td>
</tr>
</table></div>
<p><br><br></p>
</div>
<div id="WrangleBasics" class="section level2" number="9.7">
<h2>
<span class="header-section-number">9.7</span> Wrangling basics<a class="anchor" aria-label="anchor" href="#WrangleBasics"><i class="fas fa-link"></i></a>
</h2>
<div id="selecting-a-specific-column" class="section level3" number="9.7.1">
<h3>
<span class="header-section-number">9.7.1</span> Selecting a specific column<a class="anchor" aria-label="anchor" href="#selecting-a-specific-column"><i class="fas fa-link"></i></a>
</h3>
<p>Here I am using the NYHouses data as an example. Sometimes we want to deal with only one specific column in our spreadsheet/dataframe, for example applying the mean/standard deviation/inter-quartile range command to say just the Price column.</p>
<p>To do this, we use the $ symbol. For example, here Iâm simply selecting the data in the elevation column only and saving it to a new variable called elevationdata.</p>
<div class="sourceCode" id="cb181"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"HousesNY"</span><span class="op">)</span></span>
<span><span class="va">price</span> <span class="op">&lt;-</span> <span class="va">HousesNY</span><span class="op">$</span><span class="va">Price</span></span>
<span></span>
<span><span class="va">price</span></span></code></pre></div>
<p>Try it yourself. You should have seen that as you typed the $, it gave you all the available column names to choose from.</p>
<p>This means we can now easily summarise specific columns. For example:</p>
<ul>
<li>
<code>summary(HousesNY)</code> will create a summary of the whole spreadsheet,</li>
<li>
<code>summary(HousesNY$Price)</code> will only summarise the Price column.<br>
</li>
<li>
<code>mean(HousesNY$Price)</code> will take the mean of the Price column in the HousesNY dataframe.</li>
</ul>
<p><br><br></p>
</div>
<div id="choosing-values-from-rows-and-columns" class="section level3" number="9.7.2">
<h3>
<span class="header-section-number">9.7.2</span> Choosing values from rows and columns<a class="anchor" aria-label="anchor" href="#choosing-values-from-rows-and-columns"><i class="fas fa-link"></i></a>
</h3>
<p>Sometimes, we do not want to analyse at the entire data.frame. Instead, we would like to only look at one (or more) columns or rows.</p>
<p>There are several ways we can select data.</p>
<ul>
<li><p>To choose a specific column, we can use the <code>$</code> symbol to select its name (as described above)</p></li>
<li><p>If you know which number rows or columns you want, you can use <strong>square brackets</strong> to numerically select data.</p></li>
</ul>
<p>Essentially our data follows the format: tablename<span class="math display">\[ROWS,COLUMNS\]</span></p>
<div class="sourceCode" id="cb182"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># reading in some new data</span></span>
<span><span class="va">frost</span>    <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_excel</a></span><span class="op">(</span><span class="st">"Data_frostdata.xlsx"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This will select the data in the 5th row and 7th column</span></span>
<span><span class="va">frost</span><span class="op">[</span><span class="fl">5</span>,<span class="fl">7</span><span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 1
##   Elevation
##       &lt;dbl&gt;
## 1       195</code></pre>
<div class="sourceCode" id="cb184"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This will select the 2nd row and ALL the columns </span></span>
<span><span class="va">frost</span><span class="op">[</span><span class="fl">2</span>,<span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 1 Ã 8
##   Station State Type_Fake Avg_DOY_SpringFrost Latitude Longitude Elevation
##   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;                   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 Union   AL    City                     82.3     32.0     -85.8       440
## # â¹ 1 more variable: Dist_to_Coast &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb186"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This will select the 3rd column and ALL the rows</span></span>
<span><span class="va">frost</span><span class="op">[</span>,<span class="fl">3</span><span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 76 Ã 1
##    Type_Fake                    
##    &lt;chr&gt;                        
##  1 City                         
##  2 City                         
##  3 Airport                      
##  4 City                         
##  5 City                         
##  6 City                         
##  7 City                         
##  8 City                         
##  9 Agricultural_Research_Station
## 10 Agricultural_Research_Station
## # â¹ 66 more rows</code></pre>
<div class="sourceCode" id="cb188"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># similar to using its name</span></span>
<span><span class="va">frost</span><span class="op">$</span><span class="va">Type_Fake</span></span></code></pre></div>
<pre><code>##  [1] "City"                          "City"                         
##  [3] "Airport"                       "City"                         
##  [5] "City"                          "City"                         
##  [7] "City"                          "City"                         
##  [9] "Agricultural_Research_Station" "Agricultural_Research_Station"
## [11] "Agricultural_Research_Station" "Airport"                      
## [13] "Airport"                       "City"                         
## [15] "City"                          "Airport"                      
## [17] "City"                          "Airport"                      
## [19] "City"                          "Airport"                      
## [21] "City"                          "City"                         
## [23] "City"                          "Airport"                      
## [25] "Agricultural_Research_Station" "City"                         
## [27] "City"                          "City"                         
## [29] "Airport"                       "Agricultural_Research_Station"
## [31] "Airport"                       "City"                         
## [33] "City"                          "City"                         
## [35] "Airport"                       "Agricultural_Research_Station"
## [37] "City"                          "City"                         
## [39] "City"                          "Agricultural_Research_Station"
## [41] "Agricultural_Research_Station" "City"                         
## [43] "City"                          "Airport"                      
## [45] "Airport"                       "Airport"                      
## [47] "Agricultural_Research_Station" "City"                         
## [49] "City"                          "City"                         
## [51] "City"                          "Agricultural_Research_Station"
## [53] "Agricultural_Research_Station" "Agricultural_Research_Station"
## [55] "Airport"                       "City"                         
## [57] "Airport"                       "City"                         
## [59] "Airport"                       "City"                         
## [61] "Agricultural_Research_Station" "Airport"                      
## [63] "Agricultural_Research_Station" "City"                         
## [65] "City"                          "City"                         
## [67] "City"                          "Airport"                      
## [69] "Airport"                       "Agricultural_Research_Station"
## [71] "Airport"                       "City"                         
## [73] "Airport"                       "Airport"                      
## [75] "City"                          "Agricultural_Research_Station"</code></pre>
<div class="sourceCode" id="cb190"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We can combine our commands, this will print the 13th row of the Longitude column </span></span>
<span><span class="co"># (no comma as we're only looking at one column)</span></span>
<span><span class="va">frost</span><span class="op">$</span><span class="va">Longitude</span><span class="op">[</span><span class="fl">13</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] -82.58</code></pre>
<div class="sourceCode" id="cb192"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The : symbol lets you choose a sequence of numbers e.g. 1:5 is 1 2 3 4 5</span></span>
<span><span class="co"># So this prints out rows 11 to 15 and all the columns</span></span>
<span><span class="va">frost</span><span class="op">[</span><span class="fl">11</span><span class="op">:</span><span class="fl">15</span>,<span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 5 Ã 8
##   Station  State Type_Fake      Avg_DOY_SpringFrost Latitude Longitude Elevation
##   &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;                        &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 Winthrop SC    Agricultural_â¦                87.2     34.9     -81.0       690
## 2 Little   SC    Airport                       87.7     34.2     -81.4       711
## 3 Calhoun  SC    Airport                       91.5     34.1     -82.6       530
## 4 Clemson  SC    City                          93.6     34.7     -82.8       824
## 5 De       FL    City                          71.3     30.7     -86.1       245
## # â¹ 1 more variable: Dist_to_Coast &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb194"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The "c" command allows you to enter whatever numbers you like.  </span></span>
<span><span class="co"># So this will print out rows 4,3,7 and the "Elevation" and "Dist_to_Coast" columns</span></span>
<span><span class="va">frost</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">7</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Elevation"</span>,<span class="st">"Dist_to_Coast"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 3 Ã 2
##   Elevation Dist_to_Coast
##       &lt;dbl&gt;         &lt;dbl&gt;
## 1        13          1.15
## 2       800        252.  
## 3       500        132.</code></pre>
</div>
<div id="deleting-rows" class="section level3" number="9.7.3">
<h3>
<span class="header-section-number">9.7.3</span> Deleting rows<a class="anchor" aria-label="anchor" href="#deleting-rows"><i class="fas fa-link"></i></a>
</h3>
<p>Or if you know the row number you can use the minus - sign to remove. Or just filter below.</p>
<div class="sourceCode" id="cb196"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># remove row 6 and and overwrite</span></span>
<span><span class="va">frost</span> <span class="op">&lt;-</span> <span class="va">frost</span><span class="op">[</span><span class="op">-</span><span class="fl">6</span> ,<span class="op">]</span></span>
<span></span>
<span><span class="co"># remove columns 4 and 2 and save result to newdata and overwrite</span></span>
<span><span class="va">newdata</span> <span class="op">&lt;-</span> <span class="va">frost</span><span class="op">[</span>, <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span> <span class="op">]</span></span></code></pre></div>
<p><br><br></p>
</div>
</div>
<div id="WrangleFilter" class="section level2" number="9.8">
<h2>
<span class="header-section-number">9.8</span> Filtering<a class="anchor" aria-label="anchor" href="#WrangleFilter"><i class="fas fa-link"></i></a>
</h2>
<div id="the-which-command-approach" class="section level3" number="9.8.1">
<h3>
<span class="header-section-number">9.8.1</span> The which command approach<a class="anchor" aria-label="anchor" href="#the-which-command-approach"><i class="fas fa-link"></i></a>
</h3>
<p>The which command essentially says âwhich numbersâ meet a certain threshold</p>
<p>e,g,</p>
<div class="sourceCode" id="cb197"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">100</span><span class="op">:</span><span class="fl">110</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">a</span> <span class="op">&gt;</span> <span class="fl">107</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  9 10 11</code></pre>
<p>Or which rows:</p>
<div class="sourceCode" id="cb199"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outlier_rows</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">frost</span><span class="op">$</span><span class="va">Dist_to_Coast</span> <span class="op">&lt;</span> <span class="fl">1.5</span><span class="op">)</span></span></code></pre></div>
<p>So you can also add questions and commands inside the square brackets. For example here is the weather station with the lowest elevation. You can see my command chose BOTH rows where elevation = 10.</p>
<div class="sourceCode" id="cb200"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># which row has the lowest elevation</span></span>
<span><span class="co"># note the double == (more below)</span></span>
<span><span class="va">row_number</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">frost</span><span class="op">$</span><span class="va">Elevation</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">frost</span><span class="op">$</span><span class="va">Elevation</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># choose that row</span></span>
<span><span class="va">loweststtation</span> <span class="op">&lt;-</span> <span class="va">frost</span><span class="op">[</span><span class="va">row_number</span> ,  <span class="op">]</span></span>
<span><span class="va">loweststtation</span></span></code></pre></div>
<pre><code>## # A tibble: 2 Ã 8
##   Station     State Type_Fake   Avg_DOY_SpringFrost Latitude Longitude Elevation
##   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;                     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 Charlestown SC    Agriculturâ¦                84.6     32.8     -79.9        10
## 2 Edenton     NC    City                       85.3     36.0     -76.6        10
## # â¹ 1 more variable: Dist_to_Coast &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb202"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">seaside</span> <span class="op">&lt;-</span> <span class="va">frost</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">frost</span><span class="op">$</span><span class="va">Dist_to_Coast</span> <span class="op">&lt;</span> <span class="fl">10</span><span class="op">)</span> ,  <span class="op">]</span></span>
<span><span class="va">seaside</span></span></code></pre></div>
<pre><code>## # A tibble: 5 Ã 8
##   Station     State Type_Fake   Avg_DOY_SpringFrost Latitude Longitude Elevation
##   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;                     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 Fernandina  FL    City                       46.9     30.7     -81.5        13
## 2 Charlestown SC    Agriculturâ¦                84.6     32.8     -79.9        10
## 3 Edenton     NC    City                       85.3     36.0     -76.6        10
## 4 Southport   NC    City                       82.8     33.9     -78.0        20
## 5 Brunswick   GA    Agriculturâ¦                48.4     31.2     -81.5        13
## # â¹ 1 more variable: Dist_to_Coast &lt;dbl&gt;</code></pre>
</div>
<div id="the-dplyr-filter-command-tidyverse" class="section level3" number="9.8.2">
<h3>
<span class="header-section-number">9.8.2</span> The dplyr filter command (tidyverse)<a class="anchor" aria-label="anchor" href="#the-dplyr-filter-command-tidyverse"><i class="fas fa-link"></i></a>
</h3>
<p>Filtering means selecting rows/observations based on their values. To filter in R, use the command <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> from the dplyr package. I tend to write it as <code>dplyr:filter()</code> to force it to be correct.</p>
<p>Here we can apply the filter command to choose specific rows that meet certain criteria</p>
<div class="sourceCode" id="cb204"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">frost</span>, <span class="va">State</span> <span class="op">==</span> <span class="st">"FL"</span><span class="op">)</span></span></code></pre></div>
<p>The double equal operator <code>==</code> means equal to. The command is telling R to keep the rows in <em>frost</em> where the <em>State</em> column equals âFLâ.</p>
<p>If you want a few categories, choose the %in% operator, using the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> command to stick together the categories you want. For example, here are states in Florida and Virginia.</p>
<div class="sourceCode" id="cb205"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">frost</span>, <span class="va">State</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"FL"</span>,<span class="st">"VA"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We can also explicitly exclude cases and keep everything else by using the not equal operator <code>!=</code>. The following code <em>excludes</em> airport stations.</p>
<div class="sourceCode" id="cb206"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">frost</span>, <span class="va">Type_Fake</span> <span class="op">!=</span> <span class="st">"Airport"</span><span class="op">)</span></span></code></pre></div>
<p>What about filtering if a row has a value greater than a specified value? For example, Stations with an elevation greater than 500 feet?</p>
<div class="sourceCode" id="cb207"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">frost</span>, <span class="va">Elevation</span> <span class="op">&gt;</span> <span class="fl">500</span><span class="op">)</span></span></code></pre></div>
<p>Or less-than-or-equal-to 200 feet.</p>
<div class="sourceCode" id="cb208"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># or save the result to a new variable</span></span>
<span><span class="va">lowland_stations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">frost</span>, <span class="va">Elevation</span> <span class="op">&lt;</span> <span class="fl">200</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">lowland_stations</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<p>In addition to comparison operators, filtering may also utilize logical operators that make multiple selections. There are three basic logical operators: <code>&amp;</code> (and), <code>|</code> (or), and <code>!</code> (not). We can keep Stations with an <em>Elevation</em> greater than 300 <strong>and</strong> <em>State</em> in Alabama <code>&amp;</code>.</p>
<div class="sourceCode" id="cb209"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">frost</span>, <span class="va">Elevation</span> <span class="op">&gt;</span> <span class="fl">300</span> <span class="op">&amp;</span> <span class="va">State</span> <span class="op">==</span> <span class="st">"AL"</span><span class="op">)</span></span></code></pre></div>
<p>Use <code>|</code> to keep Stations with a <em>Type_Fake</em> of âAirportâ <strong>or</strong> a last spring frost date after April (~ day 90 of the year).</p>
<div class="sourceCode" id="cb210"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">frost</span>, <span class="va">Type_Fake</span> <span class="op">==</span> <span class="st">"Airport"</span> <span class="op">|</span> <span class="va">Avg_DOY_SpringFrost</span> <span class="op">&gt;</span> <span class="fl">90</span> <span class="op">)</span></span></code></pre></div>
<p><br><br></p>
</div>
<div id="group_by-command-statistics-per-group" class="section level3" number="9.8.3">
<h3>
<span class="header-section-number">9.8.3</span> âGroup_byâ command: statistics per group<a class="anchor" aria-label="anchor" href="#group_by-command-statistics-per-group"><i class="fas fa-link"></i></a>
</h3>
<p>What if we want to do more than just count the number of rows?</p>
<p>Well, we can use the <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code> and <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code> commands and save our answers to a new variable.</p>
<p>Here we are making use of the pipe symbol, %&gt;%, which takes the answer from group_by and sends it directly to the summarise command.</p>
<p>Here is some data on frost dates at weather stations.</p>
<div class="sourceCode" id="cb211"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">frost</span>    <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_excel</a></span><span class="op">(</span><span class="st">"Data_frostdata.xlsx"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">frost</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 6 Ã 8
##   Station    State Type_Fake Avg_DOY_SpringFrost Latitude Longitude Elevation
##   &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;                   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 Valley     AL    City                    110.      34.6     -85.6      1020
## 2 Union      AL    City                     82.3     32.0     -85.8       440
## 3 Saint      AL    Airport                  99.8     34.2     -86.8       800
## 4 Fernandina FL    City                     46.9     30.7     -81.5        13
## 5 Lake       FL    City                     60.6     30.2     -82.6       195
## 6 West       GA    City                     85.6     32.9     -85.2       575
## # â¹ 1 more variable: Dist_to_Coast &lt;dbl&gt;</code></pre>
<p>To summarise results by the type of weather station:</p>
<div class="sourceCode" id="cb213"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">frost.summary.type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">frost</span>, by<span class="op">=</span><span class="va">Type_Fake</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>                          <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Latitude</span><span class="op">)</span>,</span>
<span>                                    <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">Latitude</span><span class="op">)</span>,</span>
<span>                                    <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">Dist_to_Coast</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">frost.summary.type</span></span></code></pre></div>
<pre><code>## # A tibble: 3 Ã 4
##   by                       `mean(Latitude)` `max(Latitude)` `min(Dist_to_Coast)`
##   &lt;chr&gt;                               &lt;dbl&gt;           &lt;dbl&gt;                &lt;dbl&gt;
## 1 Agricultural_Research_Sâ¦             33.7            36.3                 4.95
## 2 Airport                              34.4            37.3                45.4 
## 3 City                                 33.7            36.5                 1.15</code></pre>
<p>Here, my code is:</p>
<ul>
<li>Splitting up the frost data by the Type_Fake column<br>(e.g.Â one group for City, one for Airport and one for Agricultural Research)</li>
<li>For the data rows in <em>each group</em>, calculating the mean latitude, the maximum latitude and the minimum distance to the coast</li>
<li>Saving the result to a new variable called frost.summary.type.</li>
<li>Printing the results on the screen e.g.Â the furthest North/maximum latitude of rows tagged Agricultural_Research_Station is 36.32 degrees.</li>
</ul>
<p><br><br></p>
</div>
</div>
<div id="sorting-data" class="section level2" number="9.9">
<h2>
<span class="header-section-number">9.9</span> Sorting data<a class="anchor" aria-label="anchor" href="#sorting-data"><i class="fas fa-link"></i></a>
</h2>
<div id="the-dplyr-arrange-command-tidyverse" class="section level3" number="9.9.1">
<h3>
<span class="header-section-number">9.9.1</span> The dplyr arrange command (tidyverse)<a class="anchor" aria-label="anchor" href="#the-dplyr-arrange-command-tidyverse"><i class="fas fa-link"></i></a>
</h3>
<p>We use the <code><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a></code> function to sort a data frame by one or more variables. You might want to do this to get a sense of which cases have the highest or lowest values in your data set or sort counties by their name. For example, letâs sort in ascending order by elevation.</p>
<div class="sourceCode" id="cb215"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">frost</span>, <span class="va">Latitude</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 76 Ã 8
##    Station     State Type_Fake  Avg_DOY_SpringFrost Latitude Longitude Elevation
##    &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;                    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
##  1 Inverness   FL    City                      50.6     28.8     -82.3        40
##  2 Ocala       FL    City                      52.7     29.2     -82.1        75
##  3 Lake        FL    City                      60.6     30.2     -82.6       195
##  4 Tallahassee FL    Agricultuâ¦                75.8     30.4     -84.4        55
##  5 Fernandina  FL    City                      46.9     30.7     -81.5        13
##  6 De          FL    City                      71.3     30.7     -86.1       245
##  7 Quitman     GA    City                      65.5     30.8     -83.6       185
##  8 Brunswick   GA    Agricultuâ¦                48.4     31.2     -81.5        13
##  9 Waycross    GA    Agricultuâ¦                75.9     31.2     -82.3       145
## 10 Tifton      GA    City                      87.3     31.4     -83.5       380
## # â¹ 66 more rows
## # â¹ 1 more variable: Dist_to_Coast &lt;dbl&gt;</code></pre>
<p>By default, <code><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a></code> sorts in ascending order. We can sort by a variable in descending order by using the <code><a href="https://dplyr.tidyverse.org/reference/desc.html">desc()</a></code> function on the variable we want to sort by. For example, to sort the dataframe by <em>Avg_DOY_SpringFrost</em> in descending order we use</p>
<div class="sourceCode" id="cb217"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">frost</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">Avg_DOY_SpringFrost</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 76 Ã 8
##    Station      State Type_Fake Avg_DOY_SpringFrost Latitude Longitude Elevation
##    &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt;                   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
##  1 Marshall     NC    Airport                  118.     35.8     -82.7      2000
##  2 Highlands    NC    Agricultâ¦                118.     35.0     -83.2      3333
##  3 Mt           NC    City                     113.     36.5     -80.6      1041
##  4 Louisburg    NC    City                     113.     36.1     -78.3       260
##  5 Rocky        VA    Airport                  111.     37.0     -79.9      1315
##  6 Henderson    NC    Agricultâ¦                111.     36.3     -78.4       512
##  7 Farmville    VA    Airport                  111.     37.3     -78.4       450
##  8 Statesville  NC    City                     110.     35.8     -80.9       951
##  9 Valley       AL    City                     110.     34.6     -85.6      1020
## 10 Hendersonviâ¦ NC    Agricultâ¦                110.     35.3     -82.4      2160
## # â¹ 66 more rows
## # â¹ 1 more variable: Dist_to_Coast &lt;dbl&gt;</code></pre>
<p><br><br></p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="T8_regression.html"><span class="header-section-number">8</span> Regression</a></div>
<div class="next"><a href="T10_diagnostics.html"><span class="header-section-number">10</span> Assessing LINE</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#T9_wrangling"><span class="header-section-number">9</span> Data Wrangling</a></li>
<li><a class="nav-link" href="#example-datasets"><span class="header-section-number">9.1</span> Example datasets</a></li>
<li>
<a class="nav-link" href="#T9_basics"><span class="header-section-number">9.2</span> Looking at the data itself</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#example"><span class="header-section-number">9.2.1</span> Example</a></li></ul>
</li>
<li><a class="nav-link" href="#summary-statistics"><span class="header-section-number">9.3</span> Summary statistics</a></li>
<li>
<a class="nav-link" href="#Missing"><span class="header-section-number">9.4</span> Removing missing values</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#na.omit"><span class="header-section-number">9.4.1</span> na.omit</a></li>
<li><a class="nav-link" href="#missing-values-in-single-columns-complete.cases"><span class="header-section-number">9.4.2</span> Missing values in single columns, complete.cases</a></li>
<li><a class="nav-link" href="#turning-values-into-na"><span class="header-section-number">9.4.3</span> Turning values into NA</a></li>
</ul>
</li>
<li><a class="nav-link" href="#ignoring-missing-data-in-commands"><span class="header-section-number">9.5</span> Ignoring missing data in commands</a></li>
<li><a class="nav-link" href="#making-frequency-tables"><span class="header-section-number">9.6</span> Making frequency tables</a></li>
<li>
<a class="nav-link" href="#WrangleBasics"><span class="header-section-number">9.7</span> Wrangling basics</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#selecting-a-specific-column"><span class="header-section-number">9.7.1</span> Selecting a specific column</a></li>
<li><a class="nav-link" href="#choosing-values-from-rows-and-columns"><span class="header-section-number">9.7.2</span> Choosing values from rows and columns</a></li>
<li><a class="nav-link" href="#deleting-rows"><span class="header-section-number">9.7.3</span> Deleting rows</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#WrangleFilter"><span class="header-section-number">9.8</span> Filtering</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#the-which-command-approach"><span class="header-section-number">9.8.1</span> The which command approach</a></li>
<li><a class="nav-link" href="#the-dplyr-filter-command-tidyverse"><span class="header-section-number">9.8.2</span> The dplyr filter command (tidyverse)</a></li>
<li><a class="nav-link" href="#group_by-command-statistics-per-group"><span class="header-section-number">9.8.3</span> âGroup_byâ command: statistics per group</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#sorting-data"><span class="header-section-number">9.9</span> Sorting data</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#the-dplyr-arrange-command-tidyverse"><span class="header-section-number">9.9.1</span> The dplyr arrange command (tidyverse)</a></li></ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>STAT462 Lab Book 2024</strong>" was written by Dr Helen Greatrex. It was last built on 2024-04-01.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
